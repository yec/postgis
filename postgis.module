<?php

/**
 * @file
 * Main file of postgis module. Loads include files and implements general hooks.
 */

module_load_include('inc', 'postgis', '/includes/postgis.feeds');
module_load_include('inc', 'postgis', '/includes/postgis.field');
module_load_include('inc', 'postgis', '/includes/postgis.field.formatter');
module_load_include('inc', 'postgis', '/includes/postgis.field.widget');
module_load_include('inc', 'postgis', '/includes/postgis.geometry');
module_load_include('inc', 'postgis', '/includes/postgis.openlayers');

define('POSTGIS_DEFAULT_SRID', 4326);

/**
 * Implements hook_ctools_plugin_api().
 *
 * Required for OpenLayers integration.
 */
function postgis_ctools_plugin_api($module, $api) {
  return array('version' => 1);
}

/**
 * Implements hook_help().
 */
function postgis_help($path, $arg) {
  switch ($path) {
    case 'admin/help#postgis':
      return t('This module requires a PostGIS 1.5 enabled PostgreSQL database. See the PostGIS documentation on <a href="@link">how to install PostGIS</a>. To manage geospatial content add a PostGIS field to any <a href="@types">content type</a> you like.', array('@link' => 'http://postgis.org/documentation/manual-1.5/ch02.html', '@types' => url('admin/structure/types')));
  }
}

